(this.webpackJsonptask=this.webpackJsonptask||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"apiBaseURL":"https://admintask.inboxi.net"}')},77:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(12),r=a.n(s),i=a(23),o=a(5),l=a(7),u=a.n(l),d=a(14),p=a(16),b=a(15),j=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"SET_USER",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"SET_USER_TASKS",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=a(17),x=a.n(O),f=a(29);x.a.defaults.headers.post["Content-Type"]="application/json",x.a.defaults.withCredentials=!0,x.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500?f.a.warning("\u062e\u0637\u0627 \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a",{position:"top-right",closeOnClick:!0}):f.a.warning("\u0645\u0634\u06a9\u0644\u06cc \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647 \u0627\u0633\u062a",{position:"top-right",closeOnClick:!0}),Promise.reject(e)}));var v={get:x.a.get,post:x.a.post,put:x.a.put,delete:x.a.delete},m=a(20),g=a(3),y=Object(o.f)((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(p.a)(r,2),o=i[0],l=i[1],O=Object(n.useState)(!1),x=Object(p.a)(O,2),f=(x[0],x[1]),y=Object(b.b)(),k=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,s,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!c||!o){t.next=19;break}return n={email:c,password:o},t.prev=3,f(!0),t.next=7,l=n,v.post("".concat(m.apiBaseURL,"/api/auth/login"),JSON.stringify(l));case 7:s=t.sent,r=s.status,i=s.data,console.log(i),200===r&&(y(j(i.data.user)),y(h(i.data.user.tasks)),f(!1),e.history.push("/calendar")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),f(!1);case 17:t.next=20;break;case 19:alert("Please fill in both email and password");case 20:case"end":return t.stop()}var l}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{class:"row",children:Object(g.jsxs)("div",{class:"col-12 col-sm-6 pt-5 mx-auto",children:[Object(g.jsx)("h3",{class:"text-center mb-5",children:"Task Management"}),Object(g.jsx)("form",{onSubmit:k,children:Object(g.jsxs)("div",{class:"row",children:[Object(g.jsx)("div",{class:"col-12",children:Object(g.jsxs)("div",{class:"input-group",children:[Object(g.jsx)("div",{class:"input-group-prepend",children:Object(g.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"@"})}),Object(g.jsx)("input",{type:"text",value:c,onChange:function(e){return s(e.target.value)},class:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"basic-addon1"})]})}),Object(g.jsx)("div",{class:"col-12 mt-3",children:Object(g.jsxs)("div",{class:"input-group mb-3",children:[Object(g.jsx)("div",{class:"input-group-prepend",children:Object(g.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"P"})}),Object(g.jsx)("input",{type:"password",value:o,onChange:function(e){return l(e.target.value)},class:"form-control",placeholder:"Password","aria-label":"Password","aria-describedby":"basic-addon1"})]})}),Object(g.jsx)("div",{class:"col-12 mt-3",children:Object(g.jsx)("div",{class:"input-group mb-3",children:Object(g.jsx)("button",{type:"submit",class:"btn btn-success btn-block",children:"Login"})})})]})})]})})})})),k=a(43),w=a(38),S=a(39),N=Object(o.f)((function(e){var t,a=Object(b.c)((function(e){return e.task})),c=Object(b.c)((function(e){return e.user})),s=Object(n.useState)(null),r=Object(p.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(p.a)(l,2),O=j[0],x=j[1],f=Object(n.useState)(!1),y=Object(p.a)(f,2),N=y[0],C=y[1],E=Object(n.useState)(null),T=Object(p.a)(E,2),U=T[0],L=T[1],R=Object(b.b)(),_=[],P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i){e.next=16;break}return a={title:i,description:O,date:U.dateStr},e.prev=3,e.next=6,r=a,v.post("".concat(m.apiBaseURL,"/api/task/add"),JSON.stringify(r));case 6:n=e.sent,c=n.status,s=n.data,200===c&&(R(h(s.data.tasks)),window.location.reload()),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:e.next=17;break;case 16:alert("Please fill task title");case 17:case"end":return e.stop()}var r}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();if(a)for(var B in a){var J=a[B];_.push({id:J.id,title:J.title,start:J.start,color:(t=J.status_text,"accept"==t?"#0e9b01":"reject"==t?"#fb414a":"#f7c52e")})}return c&&c.email?Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"row mt-5",children:[Object(g.jsx)("div",{className:"col-6",children:Object(g.jsxs)("h4",{children:["Welcome : ",c.email," "]})}),Object(g.jsx)("div",{className:"col-6 text-right",children:Object(g.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){R(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"LOGOUT_USER",payload:{}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.history.push("/")},children:" Logout"})})]}),N?Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-12 pt-5 pb-5",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsxs)("div",{className:"card-header",children:["New Task :  ",U&&U.dateStr]}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{onSubmit:P,children:[Object(g.jsx)("div",{class:"input-group mb-3",children:Object(g.jsx)("input",{type:"text",name:"title",value:i,onChange:function(e){return o(e.target.value)},className:"form-control",placeholder:"title"})}),Object(g.jsx)("div",{class:"input-group mb-3",children:Object(g.jsx)("input",{type:"text",name:"description",value:O,onChange:function(e){return x(e.target.value)},className:"form-control",placeholder:"description"})}),Object(g.jsx)("div",{class:"input-group mb-3",children:Object(g.jsx)("button",{type:"submit",className:"btn btn-success btn-sm",children:"Submit"})})]})})]})})}):null,Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-12 pt-5 pb-5",children:Object(g.jsx)(k.a,{plugins:[w.a,S.a],initialView:"dayGridMonth",initialEvents:_,dateClick:function(e){C(!0),L(e)},eventClick:function(e){}})})})]}):null}));var C=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/",exact:!0,component:y}),Object(g.jsx)(o.a,{path:"/calendar",exact:!0,component:N})]})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},T=a(13),U=a(28),L=a(40),R=a.n(L),_=a(21),P=Object(T.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"LOGOUT_USER":return Object(_.a)({},t.payload);default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_TASKS":return Object(_.a)({},t.payload);default:return e}}}),B=a(41),J={key:"root",storage:R.a},F=Object(U.a)(J,P),D=Object(T.d)(F,Object(T.c)(Object(T.a)(B.a))),G=Object(U.b)(D),M=a(42),A={store:D,persistor:G},I=A.store,K=A.persistor;r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(b.a,{store:I,children:Object(g.jsx)(M.a,{loading:null,persistor:K,children:Object(g.jsx)(C,{})})})}),document.getElementById("root")),E()}},[[77,1,2]]]);
//# sourceMappingURL=main.b4ccb822.chunk.js.map